---
layout: default
title: Contact - Mark Tower
permalink: /contact/
---

<h1 style="text-align: center;">Contact</h1>
<hr style="text-align: center;" />

<form method="POST" name="contactForm" id="contactForm" onSubmit="submitForm()">
  
  <label for="name">Name:</label>
  <input type="text" name="name" id="name">

  <label for="email">Email:</label>
  <input type="email" name="email" id="email">

  <label for="subject">Subject:</label>
  <input type="text" name="subject">

  <label for="message">Message:</label>
  <textarea name="message" rows="4"></textarea>


  <input type="submit"  value="Submit">
</form>

<script>

  function validateForm() {
    let name  = document.getElementById("name").value;
    let email = document.getElementById("email").value;
    let emailExp =  /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;

    return false;

    if (name === '' || email === '') {
      console.log("No name or email");
      return true;      
    } else if ( !emailExp.test(String(email).toLowerCase()) ) {
      console.log("Invalid Email");
      return true;
    } else {
      console.log("No Errors");
      return false;
    }
  }

  function submitForm() {
    event.preventDefault();

    if (!validateForm()) {
      sendRequest();
    }
    
  }

  
  function sendRequest() {
    var xhr = new XMLHttpRequest();
    var url = "https://api.airtable.com/v0/app6bbibhTWgVp70P/Table%201";
    var params = "maxRecords=3&view=Grid%20view";
      
    xhr.open('GET', url, true);
    xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
    xhr.setRequestHeader('Authorization', 'Bearer key9kGwEGR3RYao1y');
    // xhr.setRequestHeader('Access-Control-Allow-Origin', 'https://api.airtable.com');

    xhr.onreadystatechange = function() {
      if(xhr.readyState == 4 && xhr.status == 200) {
        console.log(xhr.responseText);; 
      }
    }

    xhr.send(params);

  }

</script>